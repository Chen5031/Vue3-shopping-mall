'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var shared = require('@vueuse/shared');
var vueDemi = require('vue-demi');
var QRCode = require('qrcode');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var QRCode__default = /*#__PURE__*/_interopDefaultLegacy(QRCode);

function useQRCode(text, options) {
  const src = shared.resolveRef(text);
  const result = vueDemi.ref("");
  vueDemi.watch(src, async (value) => {
    if (src.value && shared.isClient)
      result.value = await QRCode__default["default"].toDataURL(value, options);
  }, { immediate: true });
  return result;
}

exports.useQRCode = useQRCode;
